(this["webpackJsonpsmart-oee-system"]=this["webpackJsonpsmart-oee-system"]||[]).push([[10],{329:function(e,t,n){"use strict";n.d(t,"k",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"j",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"p",(function(){return d})),n.d(t,"q",(function(){return f})),n.d(t,"e",(function(){return b})),n.d(t,"g",(function(){return m})),n.d(t,"u",(function(){return p})),n.d(t,"s",(function(){return j})),n.d(t,"h",(function(){return O})),n.d(t,"l",(function(){return h})),n.d(t,"n",(function(){return v})),n.d(t,"t",(function(){return y})),n.d(t,"r",(function(){return x})),n.d(t,"c",(function(){return g})),n.d(t,"m",(function(){return C})),n.d(t,"a",(function(){return N})),n.d(t,"o",(function(){return S}));n(11),n(19);var r=n(99),a=n(52),o=function(){return r.a.get("/admin/count",{headers:{Authorization:"Bearer ".concat(Object(a.b)())}})},c=function(e){return r.a.post("/admin/signUp",e,{headers:{Authorization:"Bearer ".concat(Object(a.b)())}})},i=function(){return r.a.get("/admin//all-users",{headers:{Authorization:"Bearer ".concat(Object(a.b)())}})},s=function(e){return r.a.patch("/admin/user/delete",{userId:e},{headers:{Authorization:"Bearer ".concat(Object(a.b)())}})},l=function(e){return r.a.patch("/macAddress/add",{macAddress:e},{headers:{Authorization:"Bearer ".concat(Object(a.b)())}})},u=function(){return r.a.get("/macAddress/all",{headers:{Authorization:"Bearer ".concat(Object(a.b)())}})},d=function(e,t){return r.a.post("/mqtt/publish/".concat(e),{message:t},{headers:{Authorization:"Bearer ".concat(Object(a.b)())}})},f=function(e,t){return r.a.patch("/macAddress/remove",{macAddress:e,userId:t},{headers:{Authorization:"Bearer ".concat(Object(a.b)())}})},b=function(){return r.a.get("/count/",{headers:{Authorization:"Bearer ".concat(Object(a.b)())}})},m=function(e){return r.a.post("/auth/forgot",{email:e})},p=function(e,t){return r.a.post("/auth/verify",{email:e,code:t})},j=function(e,t){return r.a.post("/auth/reset",{email:e,password:t})},O=function(){return r.a.get("/admin/all-macAddress",{headers:{Authorization:"Bearer ".concat(Object(a.b)())}})},h=function(e){return r.a.post("/mqtt/data",e)},v=function(){return r.a.get("/sensor",{headers:{Authorization:"Bearer ".concat(Object(a.b)())}})},y=function(e){return r.a.patch("/sensor",e,{headers:{Authorization:"Bearer ".concat(Object(a.b)())}})},x=function(e){return r.a.patch("/sensor/remove",e,{headers:{Authorization:"Bearer ".concat(Object(a.b)())}})},g=function(e){return r.a.patch("/sensor/add",e,{headers:{Authorization:"Bearer ".concat(Object(a.b)())}})},C=function(){return r.a.get("/energy",{headers:{Authorization:"Bearer ".concat(Object(a.b)())}})},N=function(e){return r.a.patch("/energy",e,{headers:{Authorization:"Bearer ".concat(Object(a.b)())}})},S=function(e){return r.a.get("/sensor/get/".concat(e),{headers:{Authorization:"Bearer ".concat(Object(a.b)())}})}},330:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e?"function"===typeof e?e():e:null}},331:function(e,t,n){"use strict";var r=n(1),a=n(0),o=n(48),c=n(145),i=n(330),s=n(61),l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},u=a.forwardRef((function(e,t){var n=e.prefixCls,u=e.title,d=e.content,f=e._overlay,b=l(e,["prefixCls","title","content","_overlay"]),m=a.useContext(o.b).getPrefixCls,p=m("popover",n),j=m();return a.createElement(c.a,Object(r.a)({},b,{prefixCls:p,ref:t,overlay:f||function(e){if(u||d)return a.createElement(a.Fragment,null,u&&a.createElement("div",{className:"".concat(e,"-title")},Object(i.a)(u)),a.createElement("div",{className:"".concat(e,"-inner-content")},Object(i.a)(d)))}(p),transitionName:Object(s.c)(j,"zoom-big",b.transitionName)}))}));u.defaultProps={placement:"top",trigger:"hover",mouseEnterDelay:.1,mouseLeaveDelay:.1,overlayStyle:{}},t.a=u},353:function(e,t,n){"use strict";var r=n(1),a=n(3),o=n(150),c=n(6),i=n.n(c),s=n(43),l=n(29),u=n(0),d=n(48),f=n(331),b=n(26),m=n(97),p=n(147),j=n(337),O=n(146),h=n(63),v=n(330);function y(e){var t=e.prefixCls,n=e.okButtonProps,a=e.cancelButtonProps,o=e.title,c=e.cancelText,i=e.okText,s=e.okType,l=e.icon,f=e.showCancel,b=void 0===f||f,y=e.close,x=e.onConfirm,g=e.onCancel,C=u.useContext(d.b).getPrefixCls;return u.createElement(O.a,{componentName:"Popconfirm",defaultLocale:h.a.Popconfirm},(function(e){return u.createElement("div",{className:"".concat(t,"-inner-content")},u.createElement("div",{className:"".concat(t,"-message")},l,u.createElement("div",{className:"".concat(t,"-message-title")},Object(v.a)(o))),u.createElement("div",{className:"".concat(t,"-buttons")},b&&u.createElement(m.a,Object(r.a)({onClick:g,size:"small"},a),c||e.cancelText),u.createElement(j.a,{buttonProps:Object(r.a)(Object(r.a)({size:"small"},Object(p.a)(s)),n),actionFn:x,close:y,prefixCls:C("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},i||e.okText)))}))}var x=void 0,g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},C=u.forwardRef((function(e,t){var n=u.useContext(d.b).getPrefixCls,o=Object(s.a)(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),c=Object(a.a)(o,2),m=c[0],p=c[1],j=function(t,n){var r,a;p(t,!0),null===(r=e.onVisibleChange)||void 0===r||r.call(e,t,n),null===(a=e.onOpenChange)||void 0===a||a.call(e,t,n)},O=e.prefixCls,h=e.placement,v=e.children,C=e.overlayClassName,N=g(e,["prefixCls","placement","children","overlayClassName"]),S=n("popover",O),A=n("popconfirm",O),w=i()(A,C);return u.createElement(f.a,Object(r.a)({},N,{prefixCls:S,placement:h,onOpenChange:function(t){e.disabled||j(t)},open:m,_overlay:u.createElement(y,Object(r.a)({},e,{prefixCls:S,close:function(e){j(!1,e)},onConfirm:function(t){var n;return null===(n=e.onConfirm)||void 0===n?void 0:n.call(x,t)},onCancel:function(t){var n;j(!1,t),null===(n=e.onCancel)||void 0===n||n.call(x,t)}})),overlayClassName:w,ref:t}),Object(b.a)(v,{onKeyDown:function(e){var t,n;u.isValidElement(v)&&(null===(n=null===v||void 0===v?void 0:(t=v.props).onKeyDown)||void 0===n||n.call(t,e)),function(e){e.keyCode===l.a.ESC&&m&&j(!1,e)}(e)}}))}));C.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:u.createElement(o.a,null),disabled:!1};t.a=C},377:function(e,t,n){"use strict";n.r(t);var r=n(11),a=n(19),o=n(3),c=n(0),i=n(204),s=n(353),l=n(97),u=n(379),d=n(378),f=n(383),b=n(380),m=n(369),p=n(329),j=n(83),O=n(5);t.default=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],h=t[1],v=Object(c.useState)(!1),y=Object(o.a)(v,2),x=y[0],g=y[1],C=Object(c.useState)(!1),N=Object(o.a)(C,2),S=N[0],A=N[1],w=Object(j.useQuery)("getSensorNames",p.n),E=w.loading,z=w.data;Object(c.useEffect)((function(){var e;!E&&(null===z||void 0===z?void 0:z.data.length)>0&&A(null===z||void 0===z||null===(e=z.data[0])||void 0===e?void 0:e.sensors)}),[E,null===z||void 0===z?void 0:z.data]);var k=Object(j.useQueryClient)(),B=Object(j.useMutation)(p.n,{onSuccess:function(){k.invalidateQueries("getSensorNames")}}),P=function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,Object(p.t)(t);case 3:200===e.sent.status?(B.mutate(),i.b.success("Senors names updated successfully!"),g(!1),h(!1)):(i.b.error("Something went wrong, please check your internet connection!"),g(!1),h(!1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.r)({sensorName:t});case 2:200===e.sent.status?(B.mutate(),i.b.success("Senor Deleted!")):i.b.error("Something went wrong, please check your internet connection!");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=[{title:"Sensors",key:"sensors",width:"90%",render:function(e){return e}},{title:"Delete",key:"delete",render:function(e){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(s.a,{title:"Are you sure\uff1f",okText:"Yes",cancelText:"No",onConfirm:function(){return I(e)},children:Object(O.jsx)(l.a,{type:"danger",className:"tag-primary",children:"Delete"})})})}}];return Object(O.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(O.jsx)(u.a,{title:"Sensor Names",headStyle:{fontWeight:"bold"},extra:Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(l.a,{type:"primary",className:"tag-primary",onClick:function(){return h(!0)},children:"Add New Sensors"})}),style:{width:"100%"},children:Object(O.jsx)("div",{className:"table-responsive",children:Object(O.jsx)(d.a,{columns:T,dataSource:!E&&S,pagination:!1,className:"ant-border-space"})})}),Object(O.jsx)(f.a,{title:"Update Sensors Name",destroyOnClose:!0,footer:null,onCancel:function(){return h(!1)},confirmLoading:x,children:Object(O.jsxs)(b.a,{name:"control-ref",onFinish:P,labelCol:{span:0},initialValues:{sensor1:null===S||void 0===S?void 0:S.sensor1,sensor2:null===S||void 0===S?void 0:S.sensor2,sensor3:null===S||void 0===S?void 0:S.sensor3,sensor4:null===S||void 0===S?void 0:S.sensor4,sensor5:null===S||void 0===S?void 0:S.sensor5},children:[Object(O.jsx)(b.a.Item,{name:"sensor1",label:"Sensor 1 Name",children:Object(O.jsx)(m.a,{})}),Object(O.jsx)(b.a.Item,{name:"sensor2",label:"Sensor 2 Name",children:Object(O.jsx)(m.a,{})}),Object(O.jsx)(b.a.Item,{name:"sensor3",label:"Sensor 3 Name",children:Object(O.jsx)(m.a,{})}),Object(O.jsx)(b.a.Item,{name:"sensor4",label:"Sensor 4 Name",children:Object(O.jsx)(m.a,{})}),Object(O.jsx)(b.a.Item,{name:"sensor5",label:"Sensor 5 Name",children:Object(O.jsx)(m.a,{})}),Object(O.jsx)(b.a.Item,{children:Object(O.jsx)(l.a,{type:"primary",htmlType:"submit",loading:x,style:{alignSelf:"right"},children:"Update"})})]})}),Object(O.jsx)(f.a,{title:"Add New Sensor",destroyOnClose:!0,open:n,footer:null,onCancel:function(){return h(!1)},confirmLoading:x,children:Object(O.jsxs)(b.a,{name:"control-ref",onFinish:P,labelCol:{span:0},children:[Object(O.jsx)(b.a.Item,{name:"sensor",label:"Sensor Name",children:Object(O.jsx)(m.a,{})}),Object(O.jsx)(b.a.Item,{children:Object(O.jsx)(l.a,{type:"primary",htmlType:"submit",loading:x,style:{alignSelf:"right"},children:"Add"})})]})})]})}}}]);
//# sourceMappingURL=10.5670a86f.chunk.js.map