/*! For license information please see 15.f81d66e4.chunk.js.LICENSE.txt */
(this["webpackJsonpsmart-oee-system"]=this["webpackJsonpsmart-oee-system"]||[]).push([[15],{333:function(t,e,n){"use strict";n.d(e,"j",(function(){return i})),n.d(e,"b",(function(){return d})),n.d(e,"g",(function(){return r})),n.d(e,"i",(function(){return l})),n.d(e,"d",(function(){return c})),n.d(e,"a",(function(){return s})),n.d(e,"h",(function(){return u})),n.d(e,"n",(function(){return v})),n.d(e,"c",(function(){return b})),n.d(e,"e",(function(){return j})),n.d(e,"q",(function(){return h})),n.d(e,"o",(function(){return m})),n.d(e,"f",(function(){return f})),n.d(e,"k",(function(){return O})),n.d(e,"l",(function(){return g})),n.d(e,"m",(function(){return x})),n.d(e,"p",(function(){return p}));n(11),n(20);var o=n(100),a=n(52),i=function(){return o.a.get("/admin/count",{headers:{Authorization:"Bearer ".concat(Object(a.b)())}})},d=function(t){return o.a.post("/admin/signUp",t,{headers:{Authorization:"Bearer ".concat(Object(a.b)())}})},r=function(){return o.a.get("/admin/users",{headers:{Authorization:"Bearer ".concat(Object(a.b)())}})},l=function(){return o.a.get("/admin//all-users",{headers:{Authorization:"Bearer ".concat(Object(a.b)())}})},c=function(t){return o.a.patch("/admin/user/delete",{userId:t},{headers:{Authorization:"Bearer ".concat(Object(a.b)())}})},s=function(t){return o.a.patch("/macAddress/add",{macAddress:t},{headers:{Authorization:"Bearer ".concat(Object(a.b)())}})},u=function(){return o.a.get("/macAddress/all",{headers:{Authorization:"Bearer ".concat(Object(a.b)())}})},v=function(t,e){return o.a.patch("/macAddress/remove",{macAddress:t,userId:e},{headers:{Authorization:"Bearer ".concat(Object(a.b)())}})},b=function(){return o.a.get("/count/",{headers:{Authorization:"Bearer ".concat(Object(a.b)())}})},j=function(t){return o.a.post("/auth/forgot",{email:t})},h=function(t,e){return o.a.post("/auth/verify",{email:t,code:e})},m=function(t,e){return o.a.post("/auth/reset",{email:t,password:e})},f=function(){return o.a.get("/admin/all-macAddress",{headers:{Authorization:"Bearer ".concat(Object(a.b)())}})},O=function(t){return o.a.post("/mqtt/data",t)},g=function(t){return o.a.post("/mqtt/location-all",{macAddress:t})},x=function(){return o.a.get("/program/sensor",{headers:{Authorization:"Bearer ".concat(Object(a.b)())}})},p=function(t){return o.a.post("/admin/sensor",t,{headers:{Authorization:"Bearer ".concat(Object(a.b)())}})}},397:function(t,e,n){"use strict";n.r(e);var o=n(3),a=n(0),i=n(394),d=n(323),r=n(324),l=n(393),c=n(358),s=n(398),u=n(36),v=n(371),b=n(381),j=n(147),h=(n(377),n(5)),m=Object(v.c)({accessToken:"pk.eyJ1IjoicmVoYW5zaGFraXIiLCJhIjoiY2t6MmN2cXFlMTBlajJxbWlqYmRxZWhiZiJ9.9Av-mv5Fah6QWwMjhShT-g"}),f=function(t){var e=t.coordinates,n=(t.macAddress,t.marker),o=t.height;return Object(h.jsxs)(m,{style:"mapbox://styles/mapbox/streets-v9",containerStyle:{height:o,width:"100%",borderRadius:10},center:[e.long,e.lat],zoom:[7],children:[Object(h.jsx)("div",{className:"sidebar",children:"Deivces Location, Hover on marker to check MacAddress of device. Scroll in to Zoom"}),Object(h.jsx)(v.b,{}),n]})},O=n(384),g=n(385),x=n(386),p=n(333),A=n(83);e.default=function(){var t,e,n,m,y,M,C,z,B,w,k,N,T,Z,J,L,F,I,U,q,H=i.a.Title,Q=(i.a.Text,Object(u.c)((function(t){return t.auth}))),S=Object(a.useState)(!0),V=Object(o.a)(S,2),W=V[0],D=(V[1],Object(A.useQuery)("getCounts",p.j)),Y=D.data,R=(D.loading,Object(A.useQuery)("getAdminUserAllMacAddress",p.f)),X=R.data,G=R.loading,P=[];"admin"===Q.role?!G&&(null===X||void 0===X||null===(J=X.data)||void 0===J?void 0:J.Macaddressess[0])&&(null===X||void 0===X||null===(L=X.data)||void 0===L||null===(F=L.Macaddressess[0])||void 0===F||F.users.map((function(t){var e;return null===(e=t.macAddress)||void 0===e?void 0:e.map((function(t){return P.push(t.macAddress)}))}))):!G&&(null===X||void 0===X||null===(I=X.data)||void 0===I?void 0:I.Macaddressess)&&(null===X||void 0===X||null===(U=X.data)||void 0===U||null===(q=U.Macaddressess)||void 0===q||q.map((function(t){var e;return(null===t||void 0===t?void 0:t.macAddress)&&(null===(e=t.macAddress)||void 0===e?void 0:e.map((function(t){return P.push(t.macAddress)})))})));var E,K=Object(A.useQuery)(["getDeviceLocationsByMacAddress",P],(function(){return Object(p.l)(P)})),$=K.data,_=K.loading,tt=[];if(!_&&null!==$&&void 0!==$&&null!==(t=$.data)&&void 0!==t&&null!==(e=t.location[0])&&void 0!==e&&e.longitude){for(var et,nt,ot=0;ot<(null===$||void 0===$||null===(at=$.data)||void 0===at?void 0:at.location.length);ot++)for(var at,it=0;it<(null===$||void 0===$||null===(dt=$.data)||void 0===dt?void 0:dt.location.length);it++){var dt,rt,lt,ct,st,ut,vt,bt,jt;if((null===$||void 0===$||null===(rt=$.data)||void 0===rt||null===(lt=rt.location[ot])||void 0===lt?void 0:lt.longitude)===(null===$||void 0===$||null===(ct=$.data)||void 0===ct||null===(st=ct.location[it])||void 0===st?void 0:st.longitude)&&ot!==it&&-1===tt.indexOf(null===$||void 0===$||null===(ut=$.data)||void 0===ut||null===(vt=ut.location[ot])||void 0===vt?void 0:vt.macAddress))tt.push(null===$||void 0===$||null===(bt=$.data)||void 0===bt||null===(jt=bt.location[ot])||void 0===jt?void 0:jt.macAddress)}E=null===$||void 0===$||null===(et=$.data)||void 0===et||null===(nt=et.location)||void 0===nt?void 0:nt.map((function(t,e){return Object(h.jsx)(j.a,{title:"MacAddress: ".concat(-1!==(null===tt||void 0===tt?void 0:tt.indexOf(null===t||void 0===t?void 0:t.macAddress))?tt:null===t||void 0===t?void 0:t.macAddress),color:"geekblue",children:Object(h.jsx)(v.a,{coordinates:[null===t||void 0===t?void 0:t.longitude,null===t||void 0===t?void 0:t.latitude],children:Object(h.jsx)(b.a,{size:40,color:"#108ee9"})})},t+"Map01"+e)}))}var ht=[Object(h.jsxs)("svg",{width:"22",height:"22",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(h.jsx)("path",{d:"M9 6C9 7.65685 7.65685 9 6 9C4.34315 9 3 7.65685 3 6C3 4.34315 4.34315 3 6 3C7.65685 3 9 4.34315 9 6Z",fill:"#fff"}),Object(h.jsx)("path",{d:"M17 6C17 7.65685 15.6569 9 14 9C12.3431 9 11 7.65685 11 6C11 4.34315 12.3431 3 14 3C15.6569 3 17 4.34315 17 6Z",fill:"#fff"}),Object(h.jsx)("path",{d:"M12.9291 17C12.9758 16.6734 13 16.3395 13 16C13 14.3648 12.4393 12.8606 11.4998 11.6691C12.2352 11.2435 13.0892 11 14 11C16.7614 11 19 13.2386 19 16V17H12.9291Z",fill:"#fff"}),Object(h.jsx)("path",{d:"M6 11C8.76142 11 11 13.2386 11 16V17H1V16C1 13.2386 3.23858 11 6 11Z",fill:"#fff"})]},0)],mt=[{today:"Total Macaddress",title:null===Y||void 0===Y||null===(n=Y.data)||void 0===n?void 0:n.totalMacAddress,icon:Object(h.jsx)(O.a,{}),bnb:"bnb2"},{today:"Total Programs",title:null===Y||void 0===Y||null===(m=Y.data)||void 0===m?void 0:m.program,icon:Object(h.jsx)(g.a,{}),bnb:"bnb2"},{today:"Total Controls",title:"12",icon:Object(h.jsx)(x.a,{}),bnb:"redtext"},{today:"Total Users",title:"superAdmin"===Q.role?null===Y||void 0===Y||null===(y=Y.data)||void 0===y?void 0:y.totalUser:null===Y||void 0===Y||null===(M=Y.data)||void 0===M||null===(C=M.totalAdminUsers)||void 0===C||null===(z=C.users)||void 0===z?void 0:z.length,icon:ht,bnb:"bnb2"}];return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"layout-content",children:[Object(h.jsx)(d.a,{className:"rowgap-vbox",gutter:[24,0],children:mt.map((function(t,e){return Object(h.jsx)(r.a,{xs:24,sm:24,md:12,lg:6,xl:6,className:"mb-24",children:Object(h.jsx)(l.a,{bordered:!1,className:"criclebox ",children:Object(h.jsx)("div",{className:"number",children:Object(h.jsxs)(d.a,{align:"middle",gutter:[24,0],children:[Object(h.jsxs)(r.a,{xs:18,children:[Object(h.jsx)("span",{children:t.today}),Object(h.jsxs)(H,{level:3,children:[t.title," ",Object(h.jsx)("small",{className:t.bnb,children:t.persent})]})]}),Object(h.jsx)(r.a,{xs:6,children:Object(h.jsx)("div",{className:"icon-box",children:t.icon})})]})})})},"Home"+e)}))}),Object(h.jsx)("div",{children:!_&&null!==$&&void 0!==$&&null!==(B=$.data)&&void 0!==B&&null!==(w=B.location[0])&&void 0!==w&&w.longitude?Object(h.jsx)(f,{coordinates:{long:null===$||void 0===$||null===(k=$.data)||void 0===k||null===(N=k.location[0])||void 0===N?void 0:N.longitude,lat:null===$||void 0===$||null===(T=$.data)||void 0===T||null===(Z=T.location[0])||void 0===Z?void 0:Z.latitude},marker:E,height:"60vh"}):Object(h.jsx)(c.a,{spinning:W,children:Object(h.jsx)(s.a,{message:"Loading...",description:"No Device Longitude & Longitude Found",type:"info"})})})]})})}}}]);
//# sourceMappingURL=15.f81d66e4.chunk.js.map